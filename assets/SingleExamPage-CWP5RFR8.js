import{c as z,r as p,a as H,m as b,j as n,b as j,E as he,F as xe,G as ve,al as ye,am as ge,H as Te,an as Pe,I as Z,a3 as Se,ao as be,K as q,ap as g,M as w,aq as je,ar as we,as as Ce,at as Re,a1 as F,a2 as $,Q as T,au as V,av as Ie,a9 as De,aw as Ne,ax as Oe,ay as Ee,_ as B,V as Ae,L as ke}from"./index-BJ9f2vcr.js";import{C as _e}from"./CustomAlert-D1AmiZ7p.js";import{M as Y}from"./Modal-CUu5xmh9.js";import"./render-strategy-7eBaZet2.js";const[K,O]=z({name:"RadioGroupContext",hookName:"useRadioGroupContext",providerName:"<RadioGroupProvider />"}),[Me,X]=z({name:"RadioGroupItemContext",hookName:"useRadioGroupItemContext",providerName:"<RadioGroupItemProvider />"}),[Ge,J]=z({name:"RadioGroupItemPropsContext",hookName:"useRadioGroupItemPropsContext",providerName:"<RadioGroupItemPropsProvider />"}),ee=p.forwardRef((r,a)=>{const[o,t]=H()(r,["value","disabled","invalid"]),e=O(),s=b(e.getItemProps(o),t),i=e.getItemState(o);return n.jsx(Me,{value:i,children:n.jsx(Ge,{value:o,children:n.jsx(j.label,{...s,ref:a})})})});ee.displayName="RadioGroupItem";const te=p.forwardRef((r,a)=>{const o=O(),t=J(),e=b(o.getItemHiddenInputProps(t),r);return n.jsx(j.input,{...e,ref:a})});te.displayName="RadioGroupItemHiddenInput";const re=p.forwardRef((r,a)=>{const o=O(),t=J(),e=b(o.getItemTextProps(t),r);return n.jsx(j.span,{...e,ref:a})});re.displayName="RadioGroupItemText";const ae=p.forwardRef((r,a)=>{const o=O(),t=b(o.getLabelProps(),r);return n.jsx(j.label,{...t,ref:a})});ae.displayName="RadioGroupLabel";const Le=r=>{const a=p.useId(),{getRootNode:o}=he(),{dir:t}=xe(),e={id:a,dir:t,getRootNode:o,...r},s=ve(ge,e);return ye(s,Te)},ne=p.forwardRef((r,a)=>{const[o,t]=H()(r,["defaultValue","disabled","form","id","ids","name","onValueChange","orientation","readOnly","value"]),e=Le(o),s=b(e.getRootProps(),t);return n.jsx(K,{value:e,children:n.jsx(j.div,{...s,ref:a})})});ne.displayName="RadioGroupRoot";const oe=p.forwardRef((r,a)=>{const[{value:o},t]=H()(r,["value"]),e=b(o.getRootProps(),t);return n.jsx(K,{value:o,children:n.jsx(j.div,{...e,ref:a})})});oe.displayName="RadioGroupRootProvider";const{withContext:ze}=Pe({key:"badge"}),D=ze("span"),{withProvider:He,withContext:se}=Z({key:"list"}),qe=He("ul","root",{defaultProps:{role:"list"}}),Fe=se("li","item"),$e=se("span","indicator"),Be=p.forwardRef(function(a,o){const t=Se({key:"radiomark",recipe:a.recipe}),[e,s]=t.splitVariantProps(a),{checked:i,disabled:c,unstyled:l,children:u,...m}=s,f=l?be:t(e),h={ref:o,"data-checked":g(i),"data-disabled":g(c),...m,css:[f,a.css]};return n.jsx(q.span,{...h,children:i&&n.jsx("span",{className:"dot"})})}),{withProvider:ie,withContext:C,useStyles:ce}=Z({key:"radioCard"});ie(oe,"root",{forwardAsChild:!0});const Ue=ie(ne,"root",{forwardAsChild:!0}),We=C(ae,"label",{forwardAsChild:!0}),Qe=C(ee,"item",{forwardAsChild:!0}),Ze=C(re,"itemText",{forwardAsChild:!0});C("div","itemDescription",{forwardAsChild:!0});const Ve=p.forwardRef(function(a,o){const t=X(),e=ce();return n.jsx(q.div,{ref:o,"data-focus":g(t.focused),"data-disabled":g(t.disabled),"data-state":t.checked?"checked":"unchecked","data-hover":g(t.hovered),"data-active":g(t.active),"data-invalid":g(t.invalid),...a,css:[e.itemControl,a.css]})});C("div","itemContent");C("div","itemAddon");p.forwardRef(function(a,o){const{checked:t,...e}=a,s=ce(),i=X();return t&&i.checked?n.jsx(q.span,{ref:o,asChild:!0,...e,"aria-hidden":"true",css:[s.itemIndicator,a.css],children:t}):n.jsx(Be,{ref:o,unstyled:!0,...a,"aria-hidden":"true",checked:i.checked,disabled:i.disabled,css:[s.itemIndicator,a.css]})});const Ye=te;function I({className:r="",children:a}){return n.jsx("div",{className:`rounded-xl border border-secondary/40 bg-bg-gray p-8 ${r}`,children:a})}function Ke(r){return w({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Circle_Question"},child:[{tag:"g",attr:{},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M11.411,12.459a1.547,1.547,0,0,1,.341-.6,2.644,2.644,0,0,1,.535-.417,2.2,2.2,0,0,0,.363-.286,1.2,1.2,0,0,0,.256-.363A1.084,1.084,0,0,0,13,10.341a.923.923,0,0,0-.142-.517.938.938,0,0,0-.374-.338,1.123,1.123,0,0,0-.519-.119,1.173,1.173,0,0,0-.495.107.934.934,0,0,0-.389.335.884.884,0,0,0-.111.224.516.516,0,0,1-.483.359h0a.506.506,0,0,1-.479-.675,1.661,1.661,0,0,1,.178-.349,1.8,1.8,0,0,1,.748-.634,2.437,2.437,0,0,1,1.031-.215,2.4,2.4,0,0,1,1.082.231,1.737,1.737,0,0,1,.721.641,1.772,1.772,0,0,1,.257.96,1.841,1.841,0,0,1-.118.678,1.685,1.685,0,0,1-.334.536,2.289,2.289,0,0,1-.52.417,2.277,2.277,0,0,0-.462.369,1.113,1.113,0,0,0-.256.455,2.344,2.344,0,0,0-.045.283.487.487,0,0,1-.483.429h0a.484.484,0,0,1-.483-.531A2.931,2.931,0,0,1,11.411,12.459Z"},child:[]},{tag:"circle",attr:{cx:"11.793",cy:"14.891",r:"0.587"},child:[]}]},{tag:"path",attr:{d:"M12,21.931A9.934,9.934,0,1,1,21.934,12,9.945,9.945,0,0,1,12,21.931ZM12,3.064A8.934,8.934,0,1,0,20.934,12,8.943,8.943,0,0,0,12,3.064Z"},child:[]}]}]}]})(r)}function Xe(r){return w({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Clock_1"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M12,21.933A9.933,9.933,0,1,1,21.933,12,9.944,9.944,0,0,1,12,21.933ZM12,3.067A8.933,8.933,0,1,0,20.933,12,8.943,8.943,0,0,0,12,3.067Z"},child:[]},{tag:"path",attr:{d:"M11.5,6a.5.5,0,0,1,1,0v4.8c1.13-1.13,2.26-2.27,3.39-3.4a.5.5,0,0,1,.71.71l-4.26,4.25a.463.463,0,0,1-.58.07c-.01-.02-.02-.02-.03-.02a.425.425,0,0,1-.22-.33Z"},child:[]}]}]}]})(r)}function Je(r){return w({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"User"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M17.438,21.937H6.562a2.5,2.5,0,0,1-2.5-2.5V18.61c0-3.969,3.561-7.2,7.938-7.2s7.938,3.229,7.938,7.2v.827A2.5,2.5,0,0,1,17.438,21.937ZM12,12.412c-3.826,0-6.938,2.78-6.938,6.2v.827a1.5,1.5,0,0,0,1.5,1.5H17.438a1.5,1.5,0,0,0,1.5-1.5V18.61C18.938,15.192,15.826,12.412,12,12.412Z"},child:[]},{tag:"path",attr:{d:"M12,9.911a3.924,3.924,0,1,1,3.923-3.924A3.927,3.927,0,0,1,12,9.911Zm0-6.847a2.924,2.924,0,1,0,2.923,2.923A2.926,2.926,0,0,0,12,3.064Z"},child:[]}]}]}]})(r)}function et(r){return w({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Warning"},child:[{tag:"g",attr:{},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M12.5,8.752a.5.5,0,0,0-1,0h0v6a.5.5,0,0,0,1,0Z"},child:[]},{tag:"circle",attr:{cx:"11.999",cy:"16.736",r:"0.5"},child:[]}]},{tag:"path",attr:{d:"M18.642,20.934H5.385A2.5,2.5,0,0,1,3.163,17.29L9.792,4.421a2.5,2.5,0,0,1,4.444,0L20.865,17.29a2.5,2.5,0,0,1-2.223,3.644ZM12.014,4.065a1.478,1.478,0,0,0-1.334.814L4.052,17.748a1.5,1.5,0,0,0,1.333,2.186H18.642a1.5,1.5,0,0,0,1.334-2.186L13.348,4.879A1.478,1.478,0,0,0,12.014,4.065Z"},child:[]}]}]}]})(r)}function tt({examData:r}){const{duration:a,title:o,questions:t,classLevel:e,description:s}=r,i=[{label:"Duration",icon:Xe,value:a},{label:"Questions",icon:Ke,value:t?.length},{label:"Grade",icon:Je,value:e}];return n.jsxs(n.Fragment,{children:[n.jsxs(I,{className:"flex flex-col gap-6",children:[n.jsxs("h1",{className:"text-xl font-semibold flex items-center gap-2",children:["icons",o]}),n.jsx("p",{className:"text-secondary",children:s}),n.jsx("div",{className:"flex items-center flex-wrap gap-1 justify-between",children:i.map(({label:c,value:l,icon:u})=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(u,{className:"text-2xl"}),n.jsxs("span",{className:"font-semibold",children:[c,":"]}),l,n.jsx("span",{children:c==="Duration"&&"minutes"})]},c))})]}),n.jsxs(I,{children:[n.jsx("h1",{className:"mb-4 text-xl font-semibold",children:"Exam instructions"}),n.jsx(qe,{variant:"plain",className:"space-y-1",children:rt.map((c,l)=>n.jsxs(Fe,{children:[n.jsx($e,{asChild:!0,color:"yellow.600",children:n.jsx(et,{})}),c]},l))})]}),n.jsx(_e,{status:"warning",title:"Warning",des:"Once you start the exam, the timer will begin and cannot be paused. Make sure you have a stable internet connection and enough time to complete the exam."})]})}const rt=["Read each question carefully before selecting your answer.","You can navigate between questions using the Previous/Next buttons.","Your progress is automatically saved as you answer questions.","Make sure to submit your exam before the time expires.","Once submitted, you cannot modify your answers."];var k={exports:{}},_,U;function at(){if(U)return _;U=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return _=r,_}var M,W;function nt(){if(W)return M;W=1;var r=at();function a(){}function o(){}return o.resetWarningCache=a,M=function(){function t(i,c,l,u,m,f){if(f!==r){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function e(){return t}var s={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:a};return s.PropTypes=s,s},M}var Q;function ot(){return Q||(Q=1,k.exports=nt()()),k.exports}var d=ot();function le(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function st(r,a){for(var o=0;o<a.length;o++){var t=a[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}function ue(r,a,o){return a&&st(r.prototype,a),r}function de(r,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(a&&a.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),a&&G(r,a)}function N(r){return N=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},N(r)}function G(r,a){return G=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},G(r,a)}function it(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ct(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function lt(r,a){return a&&(typeof a=="object"||typeof a=="function")?a:ct(r)}function me(r){var a=it();return function(){var t=N(r),e;if(a){var s=N(this).constructor;e=Reflect.construct(t,arguments,s)}else e=t.apply(this,arguments);return lt(this,e)}}function ut(r){return dt(r)||mt(r)||pt(r)||ft()}function dt(r){if(Array.isArray(r))return L(r)}function mt(r){if(typeof Symbol<"u"&&Symbol.iterator in Object(r))return Array.from(r)}function pt(r,a){if(r){if(typeof r=="string")return L(r,a);var o=Object.prototype.toString.call(r).slice(8,-1);if(o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set")return Array.from(r);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return L(r,a)}}function L(r,a){(a==null||a>r.length)&&(a=r.length);for(var o=0,t=new Array(a);o<a;o++)t[o]=r[o];return t}function ft(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,o=String(r);if(a===0)return o;var t=o.match(/(.*?)([0-9]+)(.*)/),e=t?t[1]:"",s=t?t[3]:"",i=t?t[2]:o,c=i.length>=a?i:(ut(Array(a)).map(function(){return"0"}).join("")+i).slice(a*-1);return"".concat(e).concat(c).concat(s)}var pe={daysInHours:!1,zeroPadTime:2};function ht(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.now,t=o===void 0?Date.now:o,e=a.precision,s=e===void 0?0:e,i=a.controlled,c=a.offsetTime,l=c===void 0?0:c,u=a.overtime,m;typeof r=="string"?m=new Date(r).getTime():r instanceof Date?m=r.getTime():m=r,i||(m+=l);var f=i?m:m-t(),h=Math.min(20,Math.max(0,s)),x=Math.round(parseFloat(((u?f:Math.max(0,f))/1e3).toFixed(h))*1e3),v=Math.abs(x)/1e3;return{total:x,days:Math.floor(v/(3600*24)),hours:Math.floor(v/3600%24),minutes:Math.floor(v/60%60),seconds:Math.floor(v%60),milliseconds:Number((v%1*1e3).toFixed()),completed:x<=0}}function xt(r,a){var o=r.days,t=r.hours,e=r.minutes,s=r.seconds,i=Object.assign(Object.assign({},pe),a),c=i.daysInHours,l=i.zeroPadTime,u=i.zeroPadDays,m=u===void 0?l:u,f=Math.min(2,l),h=c?R(t+o*24,l):R(t,f);return{days:c?"":R(o,m),hours:h,minutes:R(e,f),seconds:R(s,f)}}var fe=(function(r){de(o,r);var a=me(o);function o(){var t;return le(this,o),t=a.apply(this,arguments),t.state={count:t.props.count||3},t.startCountdown=function(){t.interval=window.setInterval(function(){var e=t.state.count-1;e===0?(t.stopCountdown(),t.props.onComplete&&t.props.onComplete()):t.setState(function(s){return{count:s.count-1}})},1e3)},t.stopCountdown=function(){clearInterval(t.interval)},t.addTime=function(e){t.stopCountdown(),t.setState(function(s){return{count:s.count+e}},t.startCountdown)},t}return ue(o,[{key:"componentDidMount",value:function(){this.startCountdown()}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return this.props.children?p.cloneElement(this.props.children,{count:this.state.count}):null}}]),o})(p.Component);fe.propTypes={count:d.number,children:d.element,onComplete:d.func};var E=(function(r){de(o,r);var a=me(o);function o(t){var e;if(le(this,o),e=a.call(this,t),e.mounted=!1,e.initialTimestamp=e.calcOffsetStartTimestamp(),e.offsetStartTimestamp=e.props.autoStart?0:e.initialTimestamp,e.offsetTime=0,e.legacyMode=!1,e.legacyCountdownRef=null,e.tick=function(){var i=e.calcTimeDelta(),c=i.completed&&!e.props.overtime?void 0:e.props.onTick;e.setTimeDeltaState(i,void 0,c)},e.setLegacyCountdownRef=function(i){e.legacyCountdownRef=i},e.start=function(){if(!e.isStarted()){var i=e.offsetStartTimestamp;e.offsetStartTimestamp=0,e.offsetTime+=i?e.calcOffsetStartTimestamp()-i:0;var c=e.calcTimeDelta();e.setTimeDeltaState(c,"STARTED",e.props.onStart),!e.props.controlled&&(!c.completed||e.props.overtime)&&(e.clearTimer(),e.interval=window.setInterval(e.tick,e.props.intervalDelay))}},e.pause=function(){e.isPaused()||(e.clearTimer(),e.offsetStartTimestamp=e.calcOffsetStartTimestamp(),e.setTimeDeltaState(e.state.timeDelta,"PAUSED",e.props.onPause))},e.stop=function(){e.isStopped()||(e.clearTimer(),e.offsetStartTimestamp=e.calcOffsetStartTimestamp(),e.offsetTime=e.offsetStartTimestamp-e.initialTimestamp,e.setTimeDeltaState(e.calcTimeDelta(),"STOPPED",e.props.onStop))},e.isStarted=function(){return e.isStatus("STARTED")},e.isPaused=function(){return e.isStatus("PAUSED")},e.isStopped=function(){return e.isStatus("STOPPED")},e.isCompleted=function(){return e.isStatus("COMPLETED")},t.date){var s=e.calcTimeDelta();e.state={timeDelta:s,status:s.completed?"COMPLETED":"STOPPED"}}else e.legacyMode=!0;return e}return ue(o,[{key:"componentDidMount",value:function(){this.legacyMode||(this.mounted=!0,this.props.onMount&&this.props.onMount(this.calcTimeDelta()),this.props.autoStart&&this.start())}},{key:"componentDidUpdate",value:function(e){this.legacyMode||this.props.date!==e.date&&(this.initialTimestamp=this.calcOffsetStartTimestamp(),this.offsetStartTimestamp=this.initialTimestamp,this.offsetTime=0,this.setTimeDeltaState(this.calcTimeDelta()))}},{key:"componentWillUnmount",value:function(){this.legacyMode||(this.mounted=!1,this.clearTimer())}},{key:"calcTimeDelta",value:function(){var e=this.props,s=e.date,i=e.now,c=e.precision,l=e.controlled,u=e.overtime;return ht(s,{now:i,precision:c,controlled:l,offsetTime:this.offsetTime,overtime:u})}},{key:"calcOffsetStartTimestamp",value:function(){return Date.now()}},{key:"addTime",value:function(e){this.legacyCountdownRef.addTime(e)}},{key:"clearTimer",value:function(){window.clearInterval(this.interval)}},{key:"isStatus",value:function(e){return this.state.status===e}},{key:"setTimeDeltaState",value:function(e,s,i){var c=this;if(this.mounted){var l=e.completed&&!this.state.timeDelta.completed,u=e.completed&&s==="STARTED";l&&!this.props.overtime&&this.clearTimer();var m=function(){i&&i(c.state.timeDelta),c.props.onComplete&&(l||u)&&c.props.onComplete(e,u)};return this.setState(function(f){var h=s||f.status;return e.completed&&!c.props.overtime?h="COMPLETED":!s&&h==="COMPLETED"&&(h="STOPPED"),{timeDelta:e,status:h}},m)}}},{key:"getApi",value:function(){return this.api=this.api||{start:this.start,pause:this.pause,stop:this.stop,isStarted:this.isStarted,isPaused:this.isPaused,isStopped:this.isStopped,isCompleted:this.isCompleted}}},{key:"getRenderProps",value:function(){var e=this.props,s=e.daysInHours,i=e.zeroPadTime,c=e.zeroPadDays,l=this.state.timeDelta;return Object.assign(Object.assign({},l),{api:this.getApi(),props:this.props,formatted:xt(l,{daysInHours:s,zeroPadTime:i,zeroPadDays:c})})}},{key:"render",value:function(){if(this.legacyMode){var e=this.props,s=e.count,i=e.children,c=e.onComplete;return p.createElement(fe,{ref:this.setLegacyCountdownRef,count:s,onComplete:c},i)}var l=this.props,u=l.className,m=l.overtime,f=l.children,h=l.renderer,x=this.getRenderProps();if(h)return h(x);if(f&&this.state.timeDelta.completed&&!m)return p.cloneElement(f,{countdown:x});var v=x.formatted,P=v.days,S=v.hours,y=v.minutes,A=v.seconds;return p.createElement("span",{className:u},x.total<0?"-":"",P,P?":":"",S,":",y,":",A)}}]),o})(p.Component);E.defaultProps=Object.assign(Object.assign({},pe),{controlled:!1,intervalDelay:1e3,precision:0,autoStart:!0});E.propTypes={date:d.oneOfType([d.instanceOf(Date),d.string,d.number]),daysInHours:d.bool,zeroPadTime:d.number,zeroPadDays:d.number,controlled:d.bool,intervalDelay:d.number,precision:d.number,autoStart:d.bool,overtime:d.bool,className:d.string,children:d.element,renderer:d.func,now:d.func,onMount:d.func,onStart:d.func,onPause:d.func,onStop:d.func,onTick:d.func,onComplete:d.func};function vt({time:r}){return n.jsx(E,{date:Date.now()+r,renderer:({hours:a,minutes:o,seconds:t,completed:e})=>{if(e)return n.jsx(D,{size:"lg",colorPalette:"red",children:"Time is up!"});const s=a===0&&o<5;return n.jsxs(D,{colorPalette:s?"red":"",size:"lg",children:[n.jsxs("span",{children:[String(a).padStart(2,"0")," :"]}),n.jsxs("span",{children:[String(o).padStart(2,"0")," :"]}),n.jsx("span",{children:String(t).padStart(2,"0")})]})}})}function yt(r){return w({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320 128L192 256l128 128z"},child:[]}]})(r)}function gt(r){return w({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 128l128 128-128 128z"},child:[]}]})(r)}function Tt({data:r,setAnswers:a,answers:o}){const{text:t,_id:e,options:s}=r,i=c=>{a(l=>[...l.filter(m=>m.questionId!==e),{questionId:e,selectedAnswer:c.value}])};return n.jsx(n.Fragment,{children:n.jsxs(Ue,{onValueChange:c=>i(c),value:o.find(c=>c.questionId===e)?.selectedAnswer,variant:"surface",colorPalette:"blue",children:[n.jsx(We,{className:"mb-6",children:t}),s.map((c,l)=>{const u=String.fromCharCode(97+l);return n.jsxs(Qe,{className:"cursor-pointer !border-secondary/30 !rounded-xl",value:c,children:[n.jsx(Ye,{}),n.jsx(Ve,{children:n.jsxs(Ze,{className:"flex items-center gap-2",children:[n.jsx("span",{className:"rounded-full size-6 flex items-center justify-center p-2 bg-secondary/15 border border-secondary/50 uppercase",children:u}),c]})})]},c)})]})})}const{QUESTION:Pt}=we,St=async r=>{const{data:a}=await je.get(`${Pt}get/${r}`);return a},bt=r=>Ce({queryKey:["question-id",r],queryFn:()=>St(r),staleTime:900*1e3,retry:1});function jt({questions:r,_id:a,initialTime:o}){const[t,e]=p.useState(1),[s,i]=p.useState([]),[c,l]=p.useState(!1),{mutate:u,isPending:m}=Re(a),{data:f,isLoading:h,error:x}=bt(r[t-1]._id),v=()=>{u(s,{onSuccess:()=>{window.location.reload()}})},P=()=>{r.length!==s.length?l(!0):v()};function S(){s.length>0?v():window.location.reload()}return n.jsxs(n.Fragment,{children:[n.jsxs(I,{className:"w-[80%] mx-auto flex flex-col gap-12",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h1",{className:"font-semibold text-lg",children:["Question: ",t]}),n.jsxs(D,{size:"lg",children:[t," of ",r.length]})]}),h?n.jsx(F,{className:"!min-h-fit"}):x?n.jsx($,{className:"!min-h-fit",fetchErr:x}):n.jsx(Tt,{data:f?.data,answers:s,setAnswers:i})]}),n.jsxs(I,{className:"flex items-center justify-between",children:[n.jsxs(T,{onClick:()=>e(y=>y-1),disabled:t===1,variant:"surface",children:[n.jsx(yt,{}),"Previous"]}),n.jsxs(D,{size:"lg",children:[s.length,"/",r.length," Answered"]}),n.jsxs(T,{onClick:()=>e(y=>y+1),disabled:t===r.length,variant:"surface",children:["Next ",n.jsx(gt,{})]})]}),n.jsx(T,{onClick:P,variant:"outline",colorPalette:"blue",loading:m,className:"!flex !justify-self-center",children:"Submit Exam"}),n.jsxs(Y,{openBtnClasses:"!hidden",title:"Not all questions are Answered",open:c,setOpen:l,children:[n.jsx("p",{children:"Are you sure you want to submit the exam anyway?"}),n.jsxs("div",{className:"mt-8 space-x-4",children:[n.jsx(T,{onClick:()=>v(),variant:"outline",loading:m,children:"Submit exam"}),n.jsx(T,{onClick:()=>l(!1),variant:"outline",colorPalette:"red",children:"Continue answering"})]})]}),n.jsx(E,{date:Date.now()+o,onComplete:()=>S(),renderer:()=>null})]})}function wt({examData:r}){const{questions:a,_id:o}=r,{isLoading:t,data:e,error:s}=V(o);if(t)return n.jsx(F,{className:"!min-h-fit"});if(s)return n.jsx($,{fetchErr:s,className:"!min-h-fit"});const{hours:i=0,minutes:c=0,seconds:l=0}=e?.data?.remainingTime||{},u=(i*3600+c*60+l)*1e3;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(I,{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"font-semibold flex items-center gap-1",children:"Time Remaing"}),n.jsx(vt,{time:u})]}),n.jsx(jt,{questions:a,_id:o,initialTime:u})]})}function Ct({open:r,setOpen:a,examData:o}){const{data:t}=Ie(o?._id),e=o?.questions.reduce((s,i)=>s+(i.points||0),0);return n.jsx(Y,{title:"Your score",open:r,setOpen:a,openBtnClasses:"!w-fit !p-2 !place-self-center",btnVariant:"surface",openModalContent:"Show score",children:n.jsxs("p",{children:["You have scored"," ",n.jsxs("span",{className:"font-bold",children:["(",n.jsx("span",{className:t?.data?.score>=e/2?"text-green-500":"text-red-500",children:t?.data?.score})," ","out of ",n.jsxs("span",{className:"text-gray-400",children:[e," points"]}),")"]}),", in this exam."]})})}function Et(){const[r,a]=p.useState(!1),{examId:o}=De(),{data:t,error:e}=V(o),{mutate:s,isPending:i}=Ne(),{isDisabled:c,buttonText:l,isLoading:u}=Oe(o),{data:m,isLoading:f,error:h}=Ee(o),x=m?.data,[v,P]=p.useState(!1),S=B(x?.endDate),y=B(x?.startDate)&&!S;if(f)return n.jsx(F,{});if(h||S||!y)return n.jsx(Rt,{});const A=()=>{s(o,{onSuccess:()=>{P(!0)}})};return n.jsxs(Ae,{xl:"55%",className:"!space-y-14",children:[n.jsxs("h1",{className:"font-semibold text-3xl text-center",children:["Exam ",v?"Questions":"Details"]}),v?n.jsx(wt,{examData:x}):n.jsxs(n.Fragment,{children:[n.jsx(tt,{examData:x}),t?.message==="Time is up"||e?.response.status===400?n.jsx(Ct,{open:r,setOpen:a,examData:x}):n.jsx(T,{variant:"surface",colorPalette:"blue",className:"!w-fit place-self-center",onClick:A,loading:u||i,disabled:c,children:l})]})]})}const Rt=()=>n.jsxs($,{fetchErr:!0,children:[n.jsx("p",{className:"text-secondary",children:"THIS EXAM HAS EXPIRED OR IS NOT AVAILABLE FOR YOU"}),n.jsx(T,{rounded:"full",asChild:!0,children:n.jsx(ke,{to:"/exams",children:"Go Back"})})]});export{Et as default};
