import{j as e,ae as m,af as h,_ as o,Q as j,L as p,ag as f,ah as g,V as v,a1 as L,a2 as D}from"./index-BJ9f2vcr.js";import{S as E}from"./SectionHeader-CzvNZu7G.js";import{C}from"./Card-ClOCw2Zy.js";function b({exam:n}){const{classLevel:i,description:r,title:a,questions:s,startDate:t,endDate:l,duration:c,_id:d}=n,x=new Date(t).toLocaleDateString("en-GB"),u=new Date(l).toLocaleDateString("en-GB");return e.jsxs(C,{description:r,classLevel:i,title:a,availableDate:x,expriedDate:u,children:[e.jsxs("div",{className:"space-x-4 flex gap-2 [&>h1]:flex [&>h1]:items-center [&>h1]:gap-2",children:[e.jsxs("h1",{children:[e.jsx("span",{children:e.jsx(m,{})}),e.jsxs("span",{children:[c," minutes"]})]}),e.jsxs("h1",{children:[e.jsx("span",{children:e.jsx(h,{})}),e.jsxs("span",{children:[s.length," question"]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(k,{endDate:l,startDate:t,_id:d})})]})}const k=({endDate:n,startDate:i,_id:r})=>{const a=o(n),s=o(i)&&!a;return e.jsx(j,{asChild:s,rounded:"xl",variant:"surface",disabled:a||!s,children:a?"Expired":s?e.jsx(p,{to:`/exams/${r}`,children:"Take Exam"}):"Not available yet"})};function N(){const{data:n,isLoading:i,error:r}=f(),{userData:a}=g(),s=()=>a?.classLevel?n?.data.filter(t=>t.classLevel===a.classLevel):n?.data;return e.jsxs(v,{children:[e.jsx(E,{title:"Exams",par:"Take your available exams and test your knowledge."}),i?e.jsx(L,{}):r?e.jsx(D,{fetchErr:r}):e.jsx("div",{className:"grid gap-4 [grid-template-columns:repeat(auto-fit,minmax(380px,1fr))]",children:s().map(t=>e.jsx(b,{exam:t},t._id))})]})}export{N as default};
