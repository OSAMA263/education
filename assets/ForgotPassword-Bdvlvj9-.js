import{r as u,j as s,L as r}from"./index-BJ9f2vcr.js";import{a as p,o as i,s as w,p as n,e as d,f as g,A as c,g as h,h as x,i as P}from"./inputs_data_type-iUjDXfi-.js";import"./SectionHeader-CzvNZu7G.js";import"./input-CVqtW4nl.js";import"./group-AejWIf7d.js";const f=p(i({email:d,newPassword:n,cpassword:n,otp:w().length(6,"OTP must be 6 characters long")}));function A({loggedIn:o}){const[e,t]=u.useState(!1);return s.jsxs(s.Fragment,{children:[e?s.jsx(S,{}):s.jsx(j,{setResetPassword:t}),s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(r,{onClick:()=>t(a=>!a),children:e?"Get a new OTP code":"Already got the OTP code?"}),!o&&s.jsxs("h1",{children:["Already have an account? ",s.jsx(r,{to:"/auth/login",children:"login"})]})]})]})}const j=({setResetPassword:o})=>{const{isPending:e,mutate:t}=x(),a=l=>{t(l,{onSuccess:()=>{o(!0)}})},m=i({email:d});return s.jsx(c,{formFields:P,loading:e,validationSchema:m,onSubmit:a,title:"Forgot password",submitText:"Send reset OTP code"})},S=()=>{const{isPending:o,mutate:e}=g(),t=a=>{e(a)};return s.jsx(c,{formFields:h,loading:o,validationSchema:f,onSubmit:t,title:"Reset your account password",submitText:"Reset password"})};export{A as default};
